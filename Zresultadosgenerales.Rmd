# Comparación de resultados generales: Panamá vs. Otros
## 3er Grado:
## Loading y subsetting de datos
```{r cache = TRUE, eval=FALSE, init }
library(foreign)
library(ggplot2)
library(plyr)
pm6 <- read.spss('./data/Puntajes_Alumnos/PM6_all_TERCE.sav', to.data.frame=T)
pm3 <- read.spss('./data/Puntajes_Alumnos/PM3_all_TERCE.sav', to.data.frame=T)
pc6 <- read.spss('./data/Puntajes_Alumnos/PC6_all_TERCE.sav', to.data.frame=T)
pl6 <- read.spss('./data/Puntajes_Alumnos/PL6_all_TERCE.sav', to.data.frame=T)
pl3 <- read.spss('./data/Puntajes_Alumnos/PL3_all_TERCE.sav', to.data.frame=T)
```

```{r cache = TRUE}

# seleccionar la variable de pais y el puntaje del examen de matemáticas de 3er grado
dat_math <- cbind(pm3['country'],pm3['puntaje_estandar'])

# seleccionar la variable de pais y el puntaje del examen de literatura de 3er grado
dat_lit <- cbind(pl3['country'],pl3['puntaje_estandar'])



# Omit N/As
newdat_math <- na.omit(dat_math)
newdat_lit <- na.omit(dat_lit)


# Puntaje promedio por país
avg_per_country_math <- ddply(newdat_math,~country,summarise,puntaje_promedio=mean(puntaje_estandar))
avg_per_country_lit <- ddply(newdat_lit,~country,summarise,puntaje_promedio=mean(puntaje_estandar))


# Sumar ambos resultados
data <- rbind(avg_per_country_lit,avg_per_country_math)
data.m <- ddply(data,~country,summarise,puntaje_promedio=mean(puntaje_promedio))


# Crear bar chart
ggplot(data.m, aes(x=country, y=puntaje_promedio))+geom_bar(stat = "identity")

ggplot(data.m, aes(reorder(country,puntaje_promedio),puntaje_promedio))+geom_bar(stat = "identity")
